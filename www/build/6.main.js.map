{"version":3,"sources":["../../src/pages/map-modal/map-modal.module.ts","../../src/pages/map-modal/map-modal.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACL;AAa3C,IAAa,kBAAkB;IAA/B;IAAiC,CAAC;IAAD,yBAAC;AAAD,CAAC;AAArB,kBAAkB;IAX9B,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,gEAAY;SACb;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,gEAAY,CAAC;SACvC;QACD,OAAO,EAAE;YACP,gEAAY;SACb;KACF,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;ACfyC;AACY;AAC5B;AASxD,IAAa,YAAY;IAOvB,sBAAmB,OAAsB,EAAS,SAAoB,EAAS,QAAwB,EAAS,WAAwB,EAAQ,MAAa;QAA1I,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,aAAQ,GAAR,QAAQ,CAAgB;QAAS,gBAAW,GAAX,WAAW,CAAa;QAAQ,WAAM,GAAN,MAAM,CAAO;QAF7J,YAAO,GAAC,CAAC,EAAC,EAAE,EAAC,CAAC,EAAC,GAAG,EAAC,SAAS,EAAC,GAAG,EAAC,UAAU,EAAC,CAAC;QAG3C,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,oCAAa,GAAb;QACE,IAAI,CAAC,OAAO,EAAE,CAAC;IACjB,CAAC;IAED,8BAAO,GAAP;QAAA,iBAkBG;QAjBC,IAAI,CAAC,YAAY,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;QACnD,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC,IAAI,CAAC,UAAC,QAAQ;YAElD,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YAEzF,IAAI,UAAU,GAAG;gBACf,MAAM,EAAE,MAAM;gBACd,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO;aACzC;YAED,KAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAI,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;YAC1E,KAAI,CAAC,SAAS,EAAE,YAAU;YAC1B,KAAI,CAAC,eAAe,EAAE;QACxB,CAAC,EAAE,UAAC,GAAG;YACL,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACnB,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,gCAAS,GAAT;QACE,IAAI,IAAI,GAAG;YACT,GAAG,EAAE,oBAAoB;YACzB,UAAU,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC;YACxC,MAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC;YAClC,MAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS;SAC9C,CAAC;QACF,IAAI,UAAU,GAAE;YACZ,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI;YACrC,QAAQ,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE;YAC7B,IAAI,EAAC,IAAI;SACb;QACD,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;QAChD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAE,IAAI,CAAC,GAAG,CAAC,SAAS,EAAE,CAAC,CAAC;IAClD,CAAC;IAED,sCAAe,GAAf;QACI,GAAG,EAAa,UAAY,EAAZ,SAAI,CAAC,OAAO,EAAZ,cAAY,EAAZ,IAAY;YAAxB,IAAI,IAAI;YACR,IAAI,IAAI,GAAG;gBACP,GAAG,EAAE,uBAAuB;gBAC5B,UAAU,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,CAAC;gBACxC,MAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC;gBAClC,MAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,SAAS;aAC/C,CAAC;YAEF,IAAI,QAAQ,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;YAC1D,IAAI,UAAU,GAAC,EAAC,QAAQ,EAAE,QAAQ,EAAC,IAAI,EAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE,EAAC;YACxE,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YAChD,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACxB,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACnC,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC;SACrC;QACD,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACtC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,CAAC,CAAC;IACtD,CAAC;IAEF,4CAAqB,GAArB,UAAsB,MAAM;QACzB,MAAM,CAAC,WAAW,CAAC,OAAO,EAAE;QAC5B,CAAC,CAAC;IACJ,CAAC;IAGH,4BAAK,GAAL;QACE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC,CAAC,kBAAkB;IAC7C,CAAC;IAEH,mBAAC;AAAD,CAAC;AAjFmB;IAAjB,wFAAS,CAAC,KAAK,CAAC;8BAAa,iEAAU;gDAAC;AAF9B,YAAY;IALxB,uFAAS,EAAE;IACX,wFAAS,CAAC;QACT,QAAQ,EAAE,gBAAgB;OACG;KAC9B,CAAC;iBAQ6J;AA4E9J;SAnFY,YAAY,gB","file":"6.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MapModalPage } from './map-modal';\n\n@NgModule({\n  declarations: [\n    MapModalPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MapModalPage),\n  ],\n  exports: [\n    MapModalPage\n  ]\n})\nexport class MapModalPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map-modal/map-modal.module.ts","import { Component, ViewChild, ElementRef ,NgZone} from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\n\n\ndeclare var google;\n@IonicPage()\n@Component({\n  selector: 'page-map-modal',\n  templateUrl: 'map-modal.html',\n})\nexport class MapModalPage {\n\n  @ViewChild('map') mapElement: ElementRef;\n  map: any;\n  markerBounds\n  markers=[{id:1,lat:37.593003,lng:127.070910}]\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public geolocation: Geolocation,public ngZOne:NgZone) {\n    this.ionViewLoaded();\n  }\n\n  ionViewLoaded(){\n    this.loadMap();\n  }\n\n  loadMap(){\n      this.markerBounds = new google.maps.LatLngBounds();\n      this.geolocation.getCurrentPosition().then((position) => {\n\n        let latLng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\n\n        let mapOptions = {\n          center: latLng,\n          mapTypeId: google.maps.MapTypeId.ROADMAP\n        }\n\n        this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n        this.addMarker()// current\n        this.addMarkersToMap()\n      }, (err) => {\n        console.log(err);\n      });\n\n    }\n\n    addMarker(){\n      var icon = {\n        url: \"assets/img/pin.png\", // url\n        scaledSize: new google.maps.Size(25, 25), // scaled size\n        origin: new google.maps.Point(0,0), // origin\n        anchor: new google.maps.Point(0, 0) // anchor\n      };\n      var markerdata ={\n          map: this.map,\n          animation: google.maps.Animation.DROP,\n          position: this.map.getCenter()\n          ,icon:icon\n      }\n      let marker = new google.maps.Marker(markerdata);\n      marker.setMap(this.map);\n      this.markerBounds.extend( this.map.getCenter());\n    }\n\n    addMarkersToMap() {\n        for(let item of this.markers) {\n            var icon = {\n                url: \"assets/img/marker.png\", // url\n                scaledSize: new google.maps.Size(20, 20), // scaled size\n                origin: new google.maps.Point(0,0), // origin\n                anchor: new google.maps.Point(0,0) // anchor\n            };\n\n            var position = new google.maps.LatLng(item.lat, item.lng);\n            var markerdata={position: position,icon:icon, title: item.id.toString()}\n            var marker = new google.maps.Marker(markerdata);\n            marker.setMap(this.map);\n            this.markerBounds.extend(position);\n            this.addInfoWindowToMarker(marker)\n        }\n        this.map.fitBounds(this.markerBounds);\n        this.map.setCenter(this.markerBounds.getCenter());\n    }\n\n   addInfoWindowToMarker(marker){\n      marker.addListener('click', () => {\n      })\n    }\n\n\n  close() {\n    this.viewCtrl.dismiss(); // This works fine\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/map-modal/map-modal.ts"],"sourceRoot":""}